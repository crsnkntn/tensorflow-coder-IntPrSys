
import matplotlib.pyplot as plt
import numpy as np

def main():
    results = [0.03412116699999945, 0.03615485100000004, 0.04951478599997472, 0.04961805599999991, 0.06934497200000056, 0.08846942700000682, 0.1016816410001411, 0.10314060700011396, 0.10461889699990934, 0.1055911199999855, 0.10714117799989253, 0.14658124300001418, 0.15731774099998574, 0.17182963699997345, 0.17962677400009852, 0.20372712799996862, 0.2539477629998146, 0.2567719009999996, 0.26115828000001784, 0.3119075360000352, 0.31296356200004993, 0.3156182079999894, 0.3208653009999125, 0.34243272499998056, 0.39853651800001444, 0.40499578899999733, 0.4163498679999975, 0.42894852700010233, 0.434726603999934, 0.46105763400004207, 0.5366996730000002, 0.573943479000036, 0.5964408739999953, 0.6480863799999952, 0.6581350430000157, 0.6667456830000447, 0.7607365740000205, 0.9741173700003856, 1.0655257639999718, 1.0984978620000447, 1.1499191179998434, 1.3188667819999864, 1.4503774699999212, 1.5668045060000395, 1.8010722019998866, 1.8100847309999608, 1.8544459310001002, 1.9087188749999768, 2.272509977000027, 2.646019751999802, 3.3136402579998503, 3.569742918000202, 3.716829835999306, 4.869098228999974, 5.5348822630001, 6.551293138999995, 6.600283965000017, 6.654474127999947, 6.684302828999989, 6.831189497000025, 6.8359182379999766, 8.145121427999584, 8.292887353999959, 9.526621445000046, 10.395849812999586, 11.887838284999816, 13.90300987899991, 16.735988082000404, 18.355764533999945, 18.887143914999797, 20.03885001699996, 24.904188685999998, 27.774298148000526, 28.084787677999884, 30.50975844499999, 30.823944387999973, 32.757570708, 42.69078015900004, 47.265043528000206, 51.153510863000065, 52.839003047999995, 57.32598990999986, 60.541692323999996, 63.67501460899996, 66.60297476999949, 72.92810916899998, 84.40312195000001, 102.7782202630001, 120.48287429900006, 161.2698513109999, 172.05613489299958, 215.44203283599927, 232.4167129409999, 258.41582447799965, 274.088591918, 300.0745853180001, 300.11467594199985, 300.12128886200026, 300.21261140700005, 300.247699732, 300.2617674000003, 300.322715537, 300.35199555400004, 300.5238513990007, 300.5438421100007, 300.7826116979995, 300.95698892400014]
    results2 = [0.02080285399999937, 0.011341569999999912, 0.4575704060000003, 0.4288051089999989, 0.011926363999998912, 0.03534781300000134, 48.465363324, 300.72918305400003, 0.04807366400001456, 0.40077975700000934, 0.16460950300000832, 0.09294876699999577, 0.18239497199999732, 0.05786083899999994, 0.6447077060000197, 0.1542800790000456, 0.027877160000002732, 0.4374039360000097, 0.35660509799998863, 14.402863584999977, 4.453339505000031, 19.06614883000003, 0.21465981599999395, 2.1720567170000322, 0.049035775999982434, 300.20203921999996, 0.06297334299995327, 1.0551374320000377, 1.2661306509999122, 22.061161653, 1.6130549039999096, 2.2789689439999847, 1.025826467999991, 42.40257380899993, 1.1665062209999633, 6.119842887999994, 6.50227436900002, 91.09939081599998, 0.6677951980000216, 59.31600847899995, 34.635783285, 3.302515076000077, 0.8606515469999749, 300.3721382709999, 164.98297398, 0.051065281000092, 0.22334327799990206, 2.0744571269999597, 4.873235272000102, 6.120503220999808, 2.980860883000105, 0.08557385699987208, 8.117796380000073, 2.1626202439999815, 0.20833507799989093, 19.256453014000044, 0.12142671200012956, 2.093439966999995, 0.7280508930000451, 300.1760562700001, 3.4391992959999698, 0.3595275349998701, 1.1922535300000163, 5.818428820000008, 10.674460723000038, 7.16265396599988, 1.5414996210001846, 1.7528011160000005, 171.263415527, 0.10457067700008338, 300.0241079929999, 7.181888012999934, 36.188846122000086, 300.111221529, 0.1082420180000554, 300.80425478899997, 19.11972352299972, 0.06263419800006886, 300.497173535, 116.0407429490001, 23.401992901000085, 282.4241108909996, 1.0001002359999802, 36.025467274999755, 300.06450328400024, 274.2754481549996, 7.513753786000052, 54.53410887300015, 156.2386758979992, 2.6417910420004773, 54.8180135449993, 1.2560753870002372, 5.323989703999359, 7.927546783999787, 18.41198284999973, 82.74565865100067, 0.8535585620002166, 78.79869253800007, 196.76232938900012, 300.0054455640002, 1.4531164059999355, 300.1277607279999, 300.7708421940006, 14.45613372400021, 300.492305492, 0.31614877999982127, 59.96350789999997]
    results3 = [3.253859306999999, 1.2145669139999988, 1.7304103680000011, 1.746582857, 2.149095567, 1.1278407329999993, 99.424533016, 304.050046639, 1.4726406010000233, 2.8289209619999838, 4.684921004999978, 1.9714681400000131, 2.067901212000038, 3.782480743000008, 1.7121255790000305, 1.5168292259999703, 1.1965666930000225, 1.8414282399999706, 1.5644627229999628, 39.362683729000025, 8.454730765999955, 36.76426960200007, 1.8659395999999333, 26.601995644999988, 1.7760869120000962, 300.585933471, 1.9128611399999045, 7.6626471240000456, 1.4998477159999766, 52.767152159000034, 2.266996234999965, 4.854138300000045, 3.957452675000013, 122.83867675900012, 2.5429120940000303, 28.20196477100012, 28.387348124000027, 300.06734223700005, 1.604979749999984, 167.5854413709999, 69.18496835099995, 2.557794559000058, 1.6871340899999723, 300.6700129029998, 138.4407379019999, 1.6507742730000246, 1.5574526300001708, 7.383190665999791, 3.2645593679999365, 24.097928454999874, 11.167181396999695, 1.271145911000076, 5.7601903100003256, 3.817169767999985, 1.9629541089998384, 10.048821293999936, 1.1710925570000654, 2.127285778999976, 1.5304904130002797, 300.6135883910001, 2.656434540000191, 1.5137469920000513, 4.178197791000002, 2.384390453999913, 25.032877164000183, 14.643682460000036, 1.440247994999936, 2.2678873869999734, 245.5946136929997, 3.190708879999999, 300.12967746, 5.793341458999976, 73.09608835600005, 300.10236164400004, 1.210496656000032, 175.37591035900004, 13.326518909000015, 1.0387070220000396, 300.17326100900004, 167.45410553300007, 56.50213999499988, 300.1239996899999, 1.8333965639999406, 111.996544503, 300.040262813, 300.24346162200027, 6.978593197000009, 72.00825221800005, 264.59159322000005, 1.5839522159999433, 9.94186300399997, 2.7760937220000415, 6.391289076000248, 21.269403872999646, 19.192794223999954, 108.40617479499997, 2.4565868079998836, 242.70042049599988, 125.82132457899979, 300.42755498099996, 2.3983146969999325, 300.1114492259999, 300.225602641, 22.595924820999244, 300.0867176940001, 1.893179771999712, 183.3733810699996]

    results_gpt = [2.1085539939999975, 2.233127284000002, 2.3666453520000026, 2.4389251239999794, 2.469581896000001, 2.4763319740000043, 2.5907125200000003, 2.693565183999965, 2.8552513839999847, 2.860567314999969, 3.2592578130000014, 3.4541363040000306, 5.995997497000019, 25.304693996, 303.589453951, 2.3809033979996457, 2.5983521369998925, 2.6304693910001333, 2.787692562999837, 2.8565072619999228, 2.9580927080000947, 3.033315062000156, 3.0490382789998876, 3.056987118000052, 3.0892288730001383, 3.148279413000182, 3.3179832580000266, 3.3506939269999982, 3.5005284910000007, 3.570054990000017, 3.598936417000001, 4.396263466999999, 4.519948830999965, 4.699767347000034, 4.719615248999844, 4.821249545000683, 5.07118140099999, 5.540512747999969, 7.6394969939999555, 10.619392506999247, 10.9046982750001, 11.753776261999974, 12.926215972000136, 18.517070384000135, 19.79564001100016, 22.30840986200019, 22.372072675000254, 25.90471896400004, 28.855307827000615, 28.989513696999893, 29.42273010200006, 35.921284668000226, 47.633042718999974, 57.220862238000336, 70.6739105239999, 107.65597702399964, 123.52271150200022, 130.70833711900013, 161.11060812300002, 178.64823744399996, 219.85008347, 253.0626362099997, 267.53478624499996, 300.2143869319998, 300.369390159, 300.61143124399996, 300.8028725870008, 300.8844738030002, 301.3600095789998, 302.668201728, 306.0170476789999, 307.5279804060001, 310.10302116699995, 2.38398204300006, 2.4389428419999604, 2.6572796959999323, 2.7502820309996423, 3.055485259999955, 3.094805458999872, 3.1715551140000002, 6.496961027999987, 6.815022890000364, 10.006027430000017, 11.169672976000015, 11.306060845000047, 12.949130384, 16.132522098999743, 35.679438236999886, 62.68739586599986, 180.11930864000033, 300.052284978, 300.06494317599936, 300.19206805199997, 300.19661533100043, 300.20551648799983, 300.228903122, 300.2388355009998, 300.296595336, 300.453436236, 300.52112109899986, 300.528663423, 300.6359485740004, 300.9363584040002, 301.95197915200015, 302.0517314919998, 302.3336198100001, 312.79329991800023]
    results_gpt2 = [0.7820480090000004, 0.7925840069999595, 0.858646147, 0.9504489089999879, 0.983545644000003, 1.0285496200000352, 1.0633178140000012, 1.0834865589999936, 1.14804132200004, 1.1688059109999926, 1.1755344320000063, 1.2016386040000384, 1.391018878000068, 1.420897540999988, 1.5682393339999408, 1.6293981840000242, 1.6750647539999477, 1.7556903019999996, 1.7633053879999352, 1.7754674200000409, 1.8058870449995084, 1.8101698539999802, 1.8276215310002044, 1.9351502550000532, 1.9804573659998823, 2.0916166800000155, 2.1064035509999712, 2.1074303350000037, 2.1194079519996194, 2.1309787860000142, 2.2323741820000578, 2.275041723999948, 2.278909717000033, 2.307841699999699, 2.3255279049999444, 2.3318988199998785, 2.3805071789999985, 2.398083329999963, 2.462231541000051, 2.5386926510000194, 2.708273998999971, 2.7470914409999985, 2.778141201999915, 2.898417155000061, 2.9406693050000285, 2.9587463559998923, 3.183302112999854, 3.2084404459999405, 3.244153067999946, 3.4684446769999795, 3.488692386999901, 3.496535494999989, 4.098882582999977, 4.184564288000047, 4.343933309000022, 4.482963751999705, 4.679113113000085, 4.806409146000078, 4.941556551999838, 4.982907891999957, 5.825709018999987, 6.3581640770003105, 6.473534769000253, 6.70576946500023, 7.075291531999994, 7.46627124799943, 7.69713328600028, 8.3808978940001, 8.88356085300029, 9.142389382000001, 9.619848865000222, 11.308357588000035, 11.938975239999763, 12.755258200000071, 12.977774331000091, 14.521791597000174, 14.543788867000103, 16.550427122999736, 18.72501255100002, 22.038889645999916, 22.61620381800003, 22.977158417999988, 30.182673525000155, 31.937797934999708, 33.29574627599999, 37.509029028999976, 61.33049229400001, 63.98630920000005, 72.23449217999996, 74.01229951899995, 75.47025165600007, 91.05079911099983, 93.72975167699997, 108.89333510799997, 182.87565136899957, 300.0688747449999, 300.0727079489998, 300.0736162879998, 300.1046360749997, 300.12707405400033, 300.13927618899993, 300.25574915600004, 300.27412295600016, 300.304388078, 300.3345474299995, 300.3578979440001, 300.49517696400017]
    results_gpt3 = [2.497261480999999, 2.5470219180000004, 3.537312989, 5.276500639999998, 2.035338511999999, 3.3199562480000004, 7.843276821, 300.594292769, 4.229163822999965, 3.6556113209999808, 5.820764636999968, 4.080688229000032, 2.0312785069999677, 4.090452085000038, 3.601670422999973, 2.718146219999994, 2.854395595000028, 4.183776787999989, 3.7300021649999735, 16.192494079000028, 5.872842171000002, 21.025361838000038, 2.5744461339999702, 19.132013649000044, 3.543293887999994, 300.05800862600006, 4.237622102000046, 4.429804927000077, 3.8581468789999462, 21.010142209000037, 4.583761243000026, 3.982017195000026, 4.720625219999988, 36.873821271, 3.8057223949999752, 15.951253153999915, 6.9770557470000085, 270.05956371000013, 4.203814397000087, 129.290376875, 79.39887850800005, 10.736089874000072, 4.349771469999951, 300.12301138600014, 76.13283725700012, 3.7618534720002117, 3.9769677780000166, 4.078040268999985, 5.13269986399996, 4.33662167500006, 7.061391183000069, 3.3249634559999777, 6.324331936999897, 8.534188291999953, 3.218698209999957, 16.14320254900008, 2.2877721960001054, 8.648260912999831, 3.232427314000006, 300.55787706499996, 5.397225144000004, 3.5889235449999433, 2.9447813420001694, 5.398610889999873, 28.670344287999797, 4.371404300999984, 3.85811250200004, 4.2165966819998175, 300.45165707900014, 3.6421374470000956, 300.13802976000034, 11.356509106999965, 16.8614454450003, 301.16139644500026, 4.140929446999962, 94.18594209799994, 12.905807407999873, 3.148938903999806, 147.12409531899993, 12.925026843000069, 7.176543483000387, 210.85585627, 3.66461817399977, 16.891000644000087, 300.29742541099995, 300.5147043459997, 11.12110126799962, 5.417814755000109, 61.36008199400021, 5.646487820000402, 15.696120210000117, 6.275289620999999, 6.883901307000002, 9.836681664, 38.155017054, 300.413892487, 6.586725175000026, 289.437827056, 300.1915785299999, 301.58169776299997, 5.9456072869998025, 300.0216083290002, 300.19471107999993, 45.39368138400005, 300.525358161, 4.218907923000188, 149.3540241810001]

    rounded_results = [round(r, 2) for r in results]
    rounded_results2 = [round(r, 2) for r in results2]
    rounded_results3 = [round(r, 2) for r in results3]
    rounded_results_gpt = [round(r, 2) for r in results_gpt]
    rounded_results_gpt2 = [round(r, 2) for r in results_gpt2]
    rounded_results_gpt3 = [round(r, 2) for r in results_gpt3]

    print("Average time to solution:")
    print("TFCoder: ", sum(rounded_results) / 107)
    print("\t\t", sum([1 for r in rounded_results if r < 300]), "/107")
    print("TFCoder m**2: ", sum(rounded_results2) / 107)
    print("\t\t", sum([1 for r in rounded_results2 if r < 300]), "/107")
    print("TFCoder+GPT3.5", sum(rounded_results3) / 107)
    print("\t\t", sum([1 for r in rounded_results3 if r < 300]), "/107")
    print("TFCoder+GPT4 #1", sum(rounded_results_gpt) / 107)
    print("\t\t", sum([1 for r in rounded_results_gpt if r < 300]), "/107")
    print("TFCoder+GPT4 #2", sum(rounded_results_gpt2) / 107)
    print("\t\t", sum([1 for r in rounded_results_gpt2 if r < 300]), "/107")
    print("GPT3.5+GPT4", sum(rounded_results_gpt3) / 107)
    print("\t\t", sum([1 for r in rounded_results_gpt3 if r < 300]), "/107")

    # Sort the rounded results to ensure the cumulative count is correct
    sorted_results = sorted(rounded_results)
    sorted_results2 = sorted(rounded_results2)
    sorted_results3 = sorted(rounded_results3)
    sorted_results_gpt = sorted(rounded_results_gpt)
    sorted_results_gpt2 = sorted(rounded_results_gpt2)
    sorted_results_gpt3 = sorted(rounded_results_gpt3)

    # Count the number of finishes at each unique time
    # np.unique will return sorted unique values and the number of times each unique value comes up
    unique_times, counts = np.unique(sorted_results, return_counts=True)
    unique_times2, counts2 = np.unique(sorted_results2, return_counts=True)
    unique_times3, counts3 = np.unique(sorted_results3, return_counts=True)
    unique_times_gpt, counts_gpt = np.unique(sorted_results_gpt, return_counts=True)
    unique_times_gpt2, counts_gpt2 = np.unique(sorted_results_gpt2, return_counts=True)
    unique_times_gpt3, counts_gpt3 = np.unique(sorted_results_gpt3, return_counts=True)

    # Calculate the cumulative sum of the counts to get a non-decreasing sequence
    cumulative_counts = np.cumsum(counts)
    cumulative_counts2 = np.cumsum(counts2)
    cumulative_counts3 = np.cumsum(counts3)
    cumulative_counts_gpt = np.cumsum(counts_gpt)
    cumulative_counts_gpt2 = np.cumsum(counts_gpt2)
    cumulative_counts_gpt3 = np.cumsum(counts_gpt3)

    # Plotting the step plot with 'post' to indicate the step rises after the value on x-axis
    plt.step(unique_times, cumulative_counts, where='post', color='blue', label='TFCoder')
    
    #plt.step(unique_times2, cumulative_counts2, where='post', color='purple', label='TFCoder Improved')

    plt.step(unique_times3, cumulative_counts3, where='post', color='orange', label='TFCoder+GPT3.5')

    plt.step(unique_times_gpt, cumulative_counts_gpt, where='post', color='red', label='TFCoder+GPT4 #1')

    plt.step(unique_times_gpt2, cumulative_counts_gpt2, where='post', color='green', label='TFCoder+GPT4 #2')

    plt.step(unique_times_gpt3, cumulative_counts_gpt3, where='post', color='black', label='GPT3.5+GPT4')

    # Setting the labels and title
    plt.xlabel('Time (s)')
    plt.ylabel('Solutions Found')
    plt.title('Solutions Found Over Time')

    plt.legend(title="Algorithm")

    # Display grid
    plt.grid(True)

    # Show the plot
    plt.show()




if __name__ == "__main__":
    main()